I"ò/<p><strong>DOM (Belge Nesnesi Modeli)</strong> HTML ile javascriptâ€™i birbirine baÄŸlar. DOM, HTML dokÃ¼manÄ±ndaki tÃ¼m elamanlarÄ± aÄŸaÃ§ yapÄ±sÄ± mantÄ±ÄŸÄ±yla nesneye Ã§evirir ve javascriptâ€™in eriÅŸebileceÄŸi hale getirir. BÃ¶ylelikle dinamik olarak HTML elemanÄ±na ekleme, Ã§Ä±karma ve biÃ§imini deÄŸiÅŸtirme imkanÄ± elde etmiÅŸ oluruz.</p>

<p>HTMLâ€™in yapÄ±sÄ±nÄ± etiketler (tag), attribute (Ã¶znitelik) ve elemanlar oluÅŸturur.</p>

<p>Bir HTML belgesinin temel yapÄ±sÄ±, iÃ§eriÄŸini saran ve ona bir anlam katan etiketlerden oluÅŸur. Ã–rneÄŸin <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> bir etikettir. Etiketler ek bilgi parÃ§alarÄ± olan Ã¶zniteliklere (attribute) sahip olabilirler. Ã–rneÄŸin <code class="language-plaintext highlighter-rouge">&lt;body id="anasayfa"&gt;</code> Ã–znitelikler iki bÃ¶lÃ¼mden oluÅŸur. Ã–znitelik adÄ± ve deÄŸeri. Elemanlar web sayfasÄ±nÄ± oluÅŸturan bÃ¶lÃ¼mlerdir.</p>

<p>Bu temel bilgileri verdikten sonra asÄ±l konumuza gelelim.</p>

<p>Biz bu makalede HTML Ã¶znteliklerini ve tarayÄ±cÄ±larÄ±n yorumlamasÄ± sonucu oluÅŸan DOM Ã¶zelliklerine deÄŸineceÄŸiz.</p>

<h2 id="html-Ã¶znitelikleri-attributes-ve-dom-Ã¶zellikleri-property">HTML Ã–znitelikleri (attributes) ve DOM Ã¶zellikleri (property)</h2>

<p>TarayÄ±cÄ±lar HTML dokÃ¼manÄ±nÄ± tararken DOM nesneleri oluÅŸturur. HTML Ã¶znitelikleri bu nesnelerin Ã¶zellikleri olur. Ã–rneÄŸin <code class="language-plaintext highlighter-rouge">&lt;body id="Haydaa"&gt;</code> tanÄ±mÄ±nÄ±n DOMâ€™daki karÅŸÄ±lÄ±ÄŸÄ± <code class="language-plaintext highlighter-rouge">document.body.id</code>Â dÄ±r.</p>

<p>HTML dokÃ¼manÄ±ndaki tÃ¼m elemanlar, etiketler ve Ã¶znitelikler bu ÅŸekilde DOM nesnelerine Ã§evrilir.</p>

<p>Standart Ã¶znitelikler bu ÅŸekilde DOM Ã¶zelliklerine Ã§evrilir. HTMLâ€™de standart dÄ±ÅŸÄ± Ã¶znitelikler de tanÄ±mlanabilir. Ã–rneÄŸin <code class="language-plaintext highlighter-rouge">&lt;body id="Haydaa" sampiyon="Trabzon"&gt;</code>Â gibi bir tanÄ±m yapmak mÃ¼mkÃ¼ndÃ¼r. Ancak bu Ã¶znitelikler tarayÄ±cÄ± tarafÄ±ndan DOM Ã¶zelliklerine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmez.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">sampiyon</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>gibi bir kod bize <code class="language-plaintext highlighter-rouge">undefined</code> sonucu dÃ¶necektir.</p>

<p>Bir etiket iÃ§in standart olan Ã¶znitelik baÅŸka bir etiket iÃ§in standart olmayabilir. Ã–rneÄŸin <code class="language-plaintext highlighter-rouge">&lt;input type="text"&gt;</code>Â <strong>input</strong> iÃ§in <strong>type</strong> standart iken <strong>body</strong> etiketine atanan <strong>type</strong> standart deÄŸildir.</p>

<p>Peki standart dÄ±ÅŸÄ± Ã¶zniteliklere javascriptâ€™ten nasÄ±l eriÅŸeceÄŸiz?</p>

<p>Bunun iÃ§in hazÄ±r metotlar mevcut.</p>

<ul>
  <li>elem.hasAttribute(name) â€“ varlÄ±ÄŸÄ±nÄ± kontrol et.</li>
  <li>elem.getAttribute(name) â€“ deÄŸerini al.</li>
  <li>elem.setAttribute(name, value) â€“ deÄŸer tanÄ±mla.</li>
  <li>elem.removeAttribute(name) â€“ Ã¶zniteliÄŸi sil.</li>
</ul>

<p>Ã–rneÄŸin yukarÄ±daki <strong>sampiyon</strong> tanÄ±mÄ±na eriÅŸmek iÃ§in;</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">sampiyon</span><span class="dl">'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>bize <strong>Trabzon</strong> sonucu dÃ¶necektir.</p>

<p>AyrÄ±ca <code class="language-plaintext highlighter-rouge">elem.attributes</code> ile de eriÅŸebiliriz. <strong>elem.attributes</strong> kodu bize tÃ¼m Ã¶znitelikleri adÄ± ve deÄŸeri olan bir nesne koleksiyonu olarak dÃ¶necektir.</p>

<h3 id="dom-Ã¶zelliÄŸi---html-Ã¶zniteliÄŸi-senkrenizasyonu">DOM Ã–zelliÄŸi - HTML Ã–zniteliÄŸi senkrenizasyonu</h3>

<p>Standart bir HTML Ã¶zniteliÄŸi deÄŸiÅŸtiÄŸinde, ilgili DOM Ã¶zelliÄŸi otomatik olarak gÃ¼ncellenir. Burada bazÄ± istisnalar var. SÄ±rasÄ± gelince deÄŸineceÄŸiz.</p>

<p>AÅŸaÄŸÄ±daki Ã¶rnekte, <code class="language-plaintext highlighter-rouge">id</code> bir HTML Ã¶zniteliÄŸi deÄŸiÅŸtirilmiÅŸtir ve DOM Ã¶zelliÄŸi de deÄŸiÅŸmiÅŸtir. Benzer ÅŸekilde DOM Ã¶zelliÄŸi deÄŸiÅŸtirildiÄŸinde HTML Ã¶zniteliÄŸi deÄŸiÅŸti.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;input&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">);</span>

  <span class="nx">input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">123</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// 123 (gÃ¼ncellendi)</span>

  <span class="nx">input</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">456</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">));</span> <span class="c1">// 456 (gÃ¼ncellendi)</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Ancak, farklÄ± durumlar vardÄ±r, Ã¶rneÄŸin <code class="language-plaintext highlighter-rouge">input.value</code> HTML Ã¶zniteliÄŸi deÄŸiÅŸtirildiÄŸinde DOM Ã¶zelliÄŸi deÄŸiÅŸir, ancak DOM Ã¶zelliÄŸi deÄŸiÅŸtirildiÄŸinde HTML Ã¶znteliÄŸi gÃ¼ncellenmez.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">input</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">input</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Ã§ay</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span> <span class="c1">// Ã§ay</span>

<span class="c1">// Burada deÄŸiÅŸmez</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">kahve</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">));</span> <span class="c1">// Ã§ay (gÃ¼ncellenmedi!)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Bu dikkat edilmesi gereken bir durum.</p>

<p>BaÅŸka bir durum, HTML Ã¶zniteliÄŸi gÃ¶receli bir URL veya yalnÄ±zca <code class="language-plaintext highlighter-rouge">#hash</code> iÃ§erse bile, <code class="language-plaintext highlighter-rouge">href</code> DOM Ã¶zelliÄŸi her zaman tam bir URL dÃ¶ner.</p>

<p>Ã–rneÄŸin:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;a</span> <span class="na">id=</span><span class="s">"siteLink"</span> <span class="na">href=</span><span class="s">"#merhaba"</span><span class="nt">&gt;</span>link<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="c1">// HTML Ã¶zniteliÄŸi</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">href</span><span class="dl">'</span><span class="p">));</span> <span class="c1">// #merhaba</span>

  <span class="c1">// DOM Ã¶zelliÄŸi</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">href</span> <span class="p">);</span> <span class="c1">// tam URL http://site.com/page#merhaba</span>
<span class="nt">&lt;/script&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="sonuÃ§">SonuÃ§</h2>

<p>jQueryâ€™den kurtulmak iÃ§in giriÅŸtiÄŸim yolda bu tip farklÄ±lÄ±klarÄ±n olduÄŸunu Ã¶ÄŸreniyorum. Eskiden jQueryâ€™de sadece <code class="language-plaintext highlighter-rouge">attr()</code> metodu vardÄ±. Sonra <code class="language-plaintext highlighter-rouge">prop()</code> metodu da eklendi. jQuery topluluÄŸu ilk Ã¶nce <strong>prop</strong>â€˜un <strong>attr</strong>â€˜nin yerini aldÄ±ÄŸÄ±nÄ± sÃ¶yledi. Ancak yukarÄ±daki fark sebebi ile hatalarÄ±nÄ± anlayÄ±p her iki metodu da koruma yoluna gittiler. YukarÄ±da anlattÄ±ÄŸÄ±m farkÄ± jQuery ile biz <code class="language-plaintext highlighter-rouge">attr()</code> ve <code class="language-plaintext highlighter-rouge">prop()</code> metodu ile uyguluyoruz.</p>

<p>Ben bu ve benzer durumlarda  jQueryâ€™nin javascript gerÃ§eklerini tam anlamama engel olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorum. Bu durum da hatalar ile karÅŸÄ±laÅŸtÄ±ÄŸÄ±mÄ±zda saatlerce hatta gÃ¼nlerce zaman kaybetmemize neden oluyor. Bu bile tek baÅŸÄ±na jQueryâ€™den vazgeÃ§me sebebi olur.</p>

<p>KalÄ±n saÄŸlÄ±cakla.</p>

<h2 id="kaynaklar">Kaynaklar</h2>

<ul>
  <li><a href="https://javascript.info/dom-attributes-and-properties#dom-properties-are-typed">https://javascript.info/dom-attributes-and-properties#dom-properties-are-typed</a></li>
  <li><a href="https://plainjs.com/javascript/attributes/">https://plainjs.com/javascript/attributes/</a></li>
  <li><a href="http://jquery-howto.blogspot.com.tr/2011/06/html-difference-between-attribute-and.html">http://jquery-howto.blogspot.com.tr/2011/06/html-difference-between-attribute-and.html</a></li>
  <li><a href="https://stackoverflow.com/questions/16051491/difference-between-prop-and-attr-in-jquery-and-when-to-use-attr-and-prop">https://stackoverflow.com/questions/16051491/difference-between-prop-and-attr-in-jquery-and-when-to-use-attr-and-prop</a></li>
  <li><a href="http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/">http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/</a></li>
  <li><a href="https://johnresig.com/blog/jquery-16-and-attr/">https://johnresig.com/blog/jquery-16-and-attr/</a></li>
</ul>
:ET