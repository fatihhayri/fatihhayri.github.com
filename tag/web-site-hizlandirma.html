<!DOCTYPE html>
<html lang="tr">
<head>
        <title>Fatih Hayrioğlu'nun not defteri - web site hızlandırma</title>
        <meta charset="utf-8">
        <meta http-equiv="PRAGMA" content="NO-CACHE">
        <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
        <meta name="google-site-verification" content="nPLDxGDgobGWgcj8nKtiU1eQCgPANk9weInbGZ4Fj_w">
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        
        <link href="http://feeds.feedburner.com/fatihhayri" type="application/atom+xml" rel="alternate" title="Fatih Hayrioğlu'nun not defteri Atom Feed" />
        
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

        <div id="searchBar" class="clearfix">
            <section class="body">
                <!-- SiteSearch Google -->
                <form action="http://www.fatihhayrioglu.com/arama" id="cse-search-box">
                  <div>
                    <input type="hidden" name="cx" value="004780390133711217154:ljzeact7g-o" />
                    <input type="hidden" name="cof" value="FORID:11" />
                    <input type="hidden" name="ie" value="UTF-8" />
                    <input type="text" name="q" size="31" />
                    <input type="submit" name="sa" value="Ara" />
                  </div>
                </form>
                <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&lang=tr"></script>
                <!-- SiteSearch Google -->
            </section>
        </div>
        <header id="banner" class="body">
                <h1><a href="../.">Fatih Hayrioğlu'nun not defteri</a> <strong>{ CSS, HTML ve Javascript }</strong></h1>
                <nav><ul>
                
                    <li><a href="/">Anasayfa</a></li>
                
                    <li><a href="/hakkimda/">Hakkımda</a></li>
                
                    <li><a href="/css-dersleri/">CSS Dersleri</a></li>
                
                    <li><a href="/kitap/">Kitap</a></li>
                
                    <li><a href="/iletisim/">İletişim</a></li>
                
                
                </ul></nav>
        </header><!-- /#banner -->
                

            

        
        
            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href=".././onden-resimleripreloading-images-yukleme-yontemleri/">Önden Resimleri(Preloading images) Yükleme Yöntemleri</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2010-08-27T22:44:00">
                Fri 27 August 2010
        </abbr>

        
        <address class="vcard author">
                <a class="url fn" href=".././author/fatih.html">Fatih</a> yazdı.
        </address>
        
<p><a href=".././category/css-javascript-xhtml.html">CSS, Javascript, XHTML</a> kategorisi. </p>
<p>etiketler: <a href=".././tag/onyukleme.html">önyükleme</a><a href=".././tag/performans.html">performans</a><a href=".././tag/resim.html">resim</a><a href=".././tag/web-site-hizlandirma.html">web site hızlandırma</a></p>


</footer><!-- /.post-info --><p>Web sitelerimizi hızlandırmak için çeşitli yöntemler ve metotlar
deneriz. Amacımız kullanıcıya daha hızlı cevap vermektir. Bunlardan bir
tanesi önden resimleri kullanıcı bilgisayarına yükletip sonra açılacak
sayfaların hızlı açılmasını sağlamak gibi bir amacımız olduğu
durumlardır. Rollover resimleri, araç ipucu(tooltip), background
resimleri vb. resimleri önceden yükletmek bize hem sayfa ilk açıldığında
kötü görüntüyü engellememizi sağlar hemde kullanıcıya daha sonraki
tercihlerinde daha hızlı cevap vermemizi sağlar.</p>
<p>Ben genelde daha önce kullanmadığım metotları kullanmadan önce bir
araştırma yaparım ve sonuçta bana göre iyi olan yöntemi uygularım. Web
ajanslarında çalışırken bu araştırmayı kısa tutmam gerekirken tek bir
proje geliştirirken bu iş için daha uzun zamanımız oluyor.</p>
<p>Bu işi çin CSS, javascript ve ajax ile çözümler mevcut.</p>
<p>Ben bu yöntemlerden javascript yöntemi ile yapmayı tercih ettim. Diğer
yöntemler hakkında genel bir bilgi verip geçeceğim.</p>
<p><strong>CSS Yöntemleri</strong></p>
<p>CSS Sprite yöntemide bu kategoriye girer.</p>
<p>CSS yöntemleri genelde sayfa içine konulan resimlerin tarayıcı
görüntüsünden kaçırılması ile yapılan yöntemlerdir ki işin bu kısmı
benim hoşuma gitmiyor.</p>
<p>CSS ile bu işi yapan bir örnek verelim.</p>
<div class="codehilite"><pre><span class="nt">div</span><span class="nf">#preloaded-images</span> <span class="p">{</span>
   <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
   <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
   <span class="k">left</span><span class="o">:</span> <span class="m">-9999px</span><span class="p">;</span>
   <span class="k">top</span><span class="o">:</span> <span class="m">-9999px</span><span class="p">;</span>
   <span class="k">height</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
   <span class="k">width</span><span class="o">:</span> <span class="m">1px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>HTML kodu</p>
<div class="codehilite"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;preloaded-images&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://deneme.com/image-01.png&quot;</span> <span class="na">width=</span><span class="s">&quot;1&quot;</span> <span class="na">height=</span><span class="s">&quot;1&quot;</span> <span class="na">alt=</span><span class="s">&quot;Image 01&quot;</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://deneme.com/image-02.png&quot;</span> <span class="na">width=</span><span class="s">&quot;1&quot;</span> <span class="na">height=</span><span class="s">&quot;1&quot;</span> <span class="na">alt=</span><span class="s">&quot;Image 02&quot;</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://deneme.com/image-03.png&quot;</span> <span class="na">width=</span><span class="s">&quot;1&quot;</span> <span class="na">height=</span><span class="s">&quot;1&quot;</span> <span class="na">alt=</span><span class="s">&quot;Image 03&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>


<p>Yukarıda görüldüğü gibi html içine eklenen resimler CSS yardımı ile
kullanıcının göremeyeceği bölgelere itilmiştir. Bu şekilde bir çözüm
üretilmiştir.</p>
<p><strong>Javascript Yöntemleri</strong></p>
<p>Javascript ile yapılan yöntemlerin genel yapısı bir sıraya sokulan
resimler dinamik olarak doküman içine eklenir.</p>
<p>Javascript ile bu işlemi yapan çeşitli kodlar var. Benim uyguladığım ise
aşağıdaki koddur. Bu kodun diğerlerine göre avantajı yükleme yaptığımız
sayfanın yüklenmesi bittikten sonra bizim önden yükleme yaptığımız
resimleri yüklemesidir.</p>
<div class="codehilite"><pre><span class="kd">function</span> <span class="nx">preloader</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">img1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">img2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">img3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>

    <span class="nx">img1</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;http://domain.tld/path/to/image-001.gif&quot;</span><span class="p">;</span>
    <span class="nx">img2</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;http://domain.tld/path/to/image-002.gif&quot;</span><span class="p">;</span>
    <span class="nx">img3</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&quot;http://domain.tld/path/to/image-003.gif&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">addLoadEvent</span><span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">oldonload</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">!=</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">func</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">oldonload</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">oldonload</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nx">func</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">addLoadEvent</span><span class="p">(</span><span class="nx">preloader</span><span class="p">);</span>
</pre></div>


<p>Yukarıdaki javascript kodu işimizi görecektir.</p>
<p>jQuery ile daha kısa ve basit bir kod ile bu işi yapabiliriz.</p>
<div class="codehilite"><pre><span class="c1">// resim onyükleme fonksiyonu</span>
 <span class="nx">jQuery</span><span class="p">.</span><span class="nx">preloadImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
 <span class="p">{</span>
   <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
   <span class="p">{</span>
   <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;&lt;img&gt;&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
   <span class="p">}</span>
 <span class="p">};</span>

<span class="c1">// yükleme yap</span>
 <span class="nx">$</span><span class="p">.</span><span class="nx">preloadImages</span><span class="p">(</span><span class="s2">&quot;images/dexter.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;images/saydam_ardalan1.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;images/ornek_sayfa.jpg&quot;</span><span class="p">);</span>
</pre></div>


<p><img alt="" src="static/images/resim_on_yukleme_jquery-300x195.gif" /></p>
<p>Yukarıdaki kodu yazınca yükleme yaptığımız sayfadaki öğeler yüklenirken
yükleme yaptığımız resimlerde yüklenir. Bu benim istediğim bir durum
değildir. Bence yükleme yapılacak sayfanın öğeleri yüklendikten sonra
yüklenecek resimler yüklenmelidir. Kullanıcı ilk önce mevcut sayfayı tam
görmelidir, sonra kullanıcıya göstermeden diğer sayfa resimlerini
yüklemeliyiz.</p>
<p>Bunun için kodumuzu aşağıdaki değiştirmeliyiz.</p>
<div class="codehilite"><pre> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>  
 <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span>
 <span class="p">{</span>

   <span class="c1">// resim onyükleme fonksiyonu</span>
   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">preloadImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
   <span class="p">{</span>
   <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
   <span class="p">{</span>
     <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;&lt;img&gt;&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;src&quot;</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
   <span class="p">}</span>
   <span class="p">};</span>

   <span class="c1">// yükleme yap</span>
   <span class="nx">$</span><span class="p">.</span><span class="nx">preloadImages</span><span class="p">(</span><span class="s2">&quot;images/dexter.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;images/saydam_ardalan1.gif&quot;</span><span class="p">,</span> <span class="s2">&quot;images/ornek_sayfa.jpg&quot;</span><span class="p">);</span>

 <span class="p">});</span>  
<span class="p">});</span>
</pre></div>


<p>Eklediğimiz sadece $(window).bind(‘load’ function()) kısmıdır. Burada
sayfa yüklendikten sonra bu işlemi yap diyoruz.</p>
<p>Örneği görmek için <a href="static/dokumanlar/onyukleme.html">tıklayınız.</a></p>
<p><img alt="" src="static/images/resim_on_yukleme_jquery2-300x194.gif" /></p>
<p>Örneklerde dikkatiniz bir yere çekmek istiyorum. Firebug Net sekmesini
açtım çünkü sayfa yüklenmesi anını görmenizi istedim. İlk resimde sayfa
yüklenirken sonradan görüntüleyeceğimiz resimleride içeren bir durum söz
konusu idi. Dikkat ederseniz ilk reismde dikey kırmızı çizgi en
sondadır. İkinci resimde ise kırmızı dikey çizgi sayfa öğelerini
sonuncusu olan resimden sonra çizilmiştir, daha sonra yükleme yapılan
resimler yüklenmiştir.</p>
<h2>Sonuç</h2>
<p>Ben küçük bir araştırma sonucunda bu kodu kullanmayı uygun buldum.
Bulduğum bu kodun kendimce gerekçelerini yukarıda açıklamaya çalıştım,
eğer sizlerin daha iyi çözümleri ve önerileri varsa yorum kısmında
bizlerle paylaşırsanız sevinirim.</p>
<p>Kalın sağlıacakla</p>
<h2>Kaynaklar</h2>
<ul>
<li><a href="http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/">http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/</a></li>
<li><a href="http://engineeredweb.com/blog/09/12/preloading-images-jquery-and-javascript">http://engineeredweb.com/blog/09/12/preloading-images-jquery-and-javascript</a></li>
<li><a href="http://elouai.com/javascript-preload-images.php">http://elouai.com/javascript-preload-images.php</a></li>
<li><a href="http://www.javascriptkit.com/script/script2/preloadimage.shtml">http://www.javascriptkit.com/script/script2/preloadimage.shtml</a></li>
<li><a href="http://stackoverflow.com/questions/761263/what-is-the-best-way-to-preload-multiple-images-in-javascript/761332">http://stackoverflow.com/questions/761263/what-is-the-best-way-to-preload-multiple-images-in-javascript/761332</a></li>
<li><a href="http://www.filamentgroup.com/lab/update_automatically_preload_images_from_css_with_jquery/">http://www.filamentgroup.com/lab/update_automatically_preload_images_from_css_with_jquery/</a></li>
<li><a href="http://snipplr.com/view.php?codeview&amp;id=9612">http://snipplr.com/view.php?codeview&amp;id=9612</a></li>
</ul><p><a href=".././onden-resimleripreloading-images-yukleme-yontemleri/#disqus_thread">yorum var</a>.</p>
                </article>
                
                    
<p class="paginator">
    
    Page 1 / 1
    
</p>

                
            </aside><!-- /#featured -->
            
        
        
        
            </ol><!-- /#posts-list -->
            
            </section><!-- /#content -->
        
    


        <section id="extras" class="body">
        
        
                <div class="social">
                        <h2>Sosyal</h2>
                        <ul>
                            <li><a href="http://feeds.feedburner.com/fatihhayri" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/fatihhayri">@fatihhayri</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                <a href="http://getpelican.com/">Pelican</a> alt yapısı ve <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> teması kullanılmıştır. Yardımlarından dolayı <a href="http://muratcorlu.com/">Murat Çorlu</a>'ya teşekkürler.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-785768-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



<script type="text/javascript">
    var disqus_shortname = 'fatihhayri';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>