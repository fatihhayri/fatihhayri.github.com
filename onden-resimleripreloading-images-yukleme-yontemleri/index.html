<!DOCTYPE html>
<html lang="tr">
<head>
        <title>Önden Resimleri(Preloading images) Yükleme Yöntemleri</title>
        <meta charset="utf-8">
        <meta http-equiv="PRAGMA" content="NO-CACHE">
        <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
        <link rel="stylesheet" href=".././theme/css/main.css" type="text/css" />
        
        <link href="http://feeds.feedburner.com/fatihhayri" type="application/atom+xml" rel="alternate" title="Fatih Hayrioğlu'nun not defteri Atom Feed" />
        
        

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie.css"/>
                <script src=".././js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href=".././css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">

        <div id="searchBar" class="clearfix">
            <section class="body">
                <!-- SiteSearch Google -->
                <form action="http://www.fatihhayrioglu.com/arama" id="cse-search-box">
                  <div>
                    <input type="hidden" name="cx" value="004780390133711217154:ljzeact7g-o" />
                    <input type="hidden" name="cof" value="FORID:11" />
                    <input type="hidden" name="ie" value="UTF-8" />
                    <input type="text" name="q" size="31" />
                    <input type="submit" name="sa" value="Ara" />
                  </div>
                </form>
                <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&lang=tr"></script>
                <!-- SiteSearch Google -->
            </section>
        </div>
        <header id="banner" class="body">
                <h1><a href="../.">Fatih Hayrioğlu'nun not defteri</a> <strong>{ CSS, XHTML ve Javascript }</strong></h1>
                <nav><ul>
                
                    <li><a href="/">Anasayfa</a></li>
                
                    <li><a href="/hakkimda/">Hakkımda</a></li>
                
                    <li><a href="/css-dersleri/">CSS Dersleri</a></li>
                
                    <li><a href="/kitap/">Kitap</a></li>
                
                
                </ul></nav>
        </header><!-- /#banner -->
        
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="onden-resimleripreloading-images-yukleme-yontemleri/" rel="bookmark"
           title="Permalink to Önden Resimleri(Preloading images) Yükleme Yöntemleri">Önden Resimleri(Preloading images) Yükleme Yöntemleri</a></h1>
      
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="fatihhayri">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

    </header>

    <div class="entry-content">
      <footer class="post-info">
        <abbr class="published" title="2010-08-27T22:44:00">
                Fri 27 August 2010
        </abbr>

        
        <address class="vcard author">
                <a class="url fn" href=".././author/fatih.html">Fatih</a> yazdı.
        </address>
        
<p><a href=".././category/css-javascript-xhtml.html">CSS, Javascript, XHTML</a> kategorisi. </p>
<p>etiketler: <a href=".././tag/onyukleme.html">önyükleme</a><a href=".././tag/performans.html">performans</a><a href=".././tag/resim.html">resim</a><a href=".././tag/web-site-hizlandirma.html">web site hızlandırma</a></p>


</footer><!-- /.post-info -->
      <p>Web sitelerimizi hızlandırmak için çeşitli yöntemler ve metotlar
deneriz. Amacımız kullanıcıya daha hızlı cevap vermektir. Bunlardan bir
tanesi önden resimleri kullanıcı bilgisayarına yükletip sonra açılacak
sayfaların hızlı açılmasını sağlamak gibi bir amacımız olduğu
durumlardır. Rollover resimleri, araç ipucu(tooltip), background
resimleri vb. resimleri önceden yükletmek bize hem sayfa ilk açıldığında
kötü görüntüyü engellememizi sağlar hemde kullanıcıya daha sonraki
tercihlerinde daha hızlı cevap vermemizi sağlar.</p>
<p>Ben genelde daha önce kullanmadığım metotları kullanmadan önce bir
araştırma yaparım ve sonuçta bana göre iyi olan yöntemi uygularım. Web
ajanslarında çalışırken bu araştırmayı kısa tutmam gerekirken tek bir
proje geliştirirken bu iş için daha uzun zamanımız oluyor.</p>
<p>Bu işi çin CSS, javascript ve ajax ile çözümler mevcut.</p>
<p>Ben bu yöntemlerden javascript yöntemi ile yapmayı tercih ettim. Diğer
yöntemler hakkında genel bir bilgi verip geçeceğim.</p>
<p><strong>CSS Yöntemleri</strong></p>
<p>CSS Sprite yöntemide bu kategoriye girer.</p>
<p>CSS yöntemleri genelde sayfa içine konulan resimlerin tarayıcı
görüntüsünden kaçırılması ile yapılan yöntemlerdir ki işin bu kısmı
benim hoşuma gitmiyor.</p>
<p>CSS ile bu işi yapan bir örnek verelim.</p>
<div class="codehilite"><pre> <span class="nt">div</span><span class="nf">#preloaded-images</span> <span class="p">{</span> <span class="err"> </span><span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</pre></div>


<p>overflow: hidden;  left: -9999px;  top: -9999px;  height: 1px;  width:
1px; } </p>
<p>HTML kodu</p>
<div class="codehilite"><pre> <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;preloaded-images&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;img</span>
</pre></div>


<p>src="http://deneme.com/image-01.png" width="1" height="1" alt="Image 01"
/&gt; <img src="http://deneme.com/image-02.png" width="1" height="1"
alt="Image 02" /> <img src="http://deneme.com/image-03.png" width="1"
height="1" alt="Image 03" /> </div> </p>
<p>Yukarıda görüldüğü gibi html içine eklenen resimler CSS yardımı ile
kullanıcının göremeyeceği bölgelere itilmiştir. Bu şekilde bir çözüm
üretilmiştir.</p>
<p><strong>Javascript Yöntemleri</strong></p>
<p>Javascript ile yapılan yöntemlerin genel yapısı bir sıraya sokulan
resimler dinamik olarak doküman içine eklenir.</p>
<p>Javascript ile bu işlemi yapan çeşitli kodlar var. Benim uyguladığım ise
aşağıdaki koddur. Bu kodun diğerlerine göre avantajı yükleme yaptığımız
sayfanın yüklenmesi bittikten sonra bizim önden yükleme yaptığımız
resimleri yüklemesidir.</p>
<div class="codehilite"><pre> <span class="kd">function</span> <span class="nx">preloader</span><span class="p">()</span> <span class="p">{</span> <span class="k">if</span>
</pre></div>


<p>(document.images) { var img1 = new Image(); var img2 = new Image(); var
img3 = new Image(); img1.src =
"http://domain.tld/path/to/image-001.gif"; img2.src =
"http://domain.tld/path/to/image-002.gif"; img3.src =
"http://domain.tld/path/to/image-003.gif"; } } function
addLoadEvent(func) { var oldonload = window.onload; if (typeof
window.onload != 'function') { window.onload = func; } else {
window.onload = function() { if (oldonload) { oldonload(); } func(); } }
} addLoadEvent(preloader); </p>
<p>Yukarıdaki javascript kodu işimizi görecektir.</p>
<p>jQuery ile daha kısa ve basit bir kod ile bu işi yapabiliriz.</p>
<div class="codehilite"><pre> <span class="c1">// resim onyükleme fonksiyonu</span>
</pre></div>


<p>jQuery.preloadImages = function() { for(var i = 0; i<arguments.length;
i++) { jQuery("<img>").attr("src", arguments[i]); } }; // yükleme yap
$.preloadImages("images/dexter.jpg", "images/saydam_ardalan1.gif",
"images/ornek_sayfa.jpg"); </p>
<p>[<img alt="" src="http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery-300x195.gif" title="resim_on_yukleme_jquery" />][]</p>
<p>Yukarıdaki kodu yazınca yükleme yaptığımız sayfadaki öğeler yüklenirken
yükleme yaptığımız resimlerde yüklenir. Bu benim istediğim bir durum
değildir. Bence yükleme yapılacak sayfanın öğeleri yüklendikten sonra
yüklenecek resimler yüklenmelidir. Kullanıcı ilk önce mevcut sayfayı tam
görmelidir, sonra kullanıcıya göstermeden diğer sayfa resimlerini
yüklemeliyiz.</p>
<p>Bunun için kodumuzu aşağıdaki değiştirmeliyiz.</p>
<div class="codehilite"><pre> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</pre></div>


<p>$(window).bind('load', function() { // resim onyükleme fonksiyonu
jQuery.preloadImages = function() { for(var i = 0; i<arguments.length;
i++) { jQuery("<img>").attr("src", arguments[i]); } }; // yükleme yap
$.preloadImages("images/dexter.jpg", "images/saydam_ardalan1.gif",
"images/ornek_sayfa.jpg"); }); }); </p>
<p>Eklediğimiz sadece $(window).bind(‘load’ function()) kısmıdır. Burada
sayfa yüklendikten sonra bu işlemi yap diyoruz.</p>
<p>Örneği görmek için <a href="http://fatihhayrioglu.com/dokumanlar/onyukleme.html">tıklayınız.</a></p>
<p>[<img alt="" src="http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery2-300x194.gif" title="resim_on_yukleme_jquery2" />][]</p>
<p>Örneklerde dikkatiniz bir yere çekmek istiyorum. Firebug Net sekmesini
açtım çünkü sayfa yüklenmesi anını görmenizi istedim. İlk resimde sayfa
yüklenirken sonradan görüntüleyeceğimiz resimleride içeren bir durum söz
konusu idi. Dikkat ederseniz ilk reismde dikey kırmızı çizgi en
sondadır. İkinci resimde ise kırmızı dikey çizgi sayfa öğelerini
sonuncusu olan resimden sonra çizilmiştir, daha sonra yükleme yapılan
resimler yüklenmiştir.</p>
<h3>Sonuç</h3>
<p>Ben küçük bir araştırma sonucunda bu kodu kullanmayı uygun buldum.
Bulduğum bu kodun kendimce gerekçelerini yukarıda açıklamaya çalıştım,
eğer sizlerin daha iyi çözümleri ve önerileri varsa yorum kısmında
bizlerle paylaşırsanız sevinirim.</p>
<p>Kalın sağlıacakla</p>
<h3>Kaynaklar</h3>
<ul>
<li><a href="http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/">http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/</a></li>
<li><a href="http://engineeredweb.com/blog/09/12/preloading-images-jquery-and-javascript">http://engineeredweb.com/blog/09/12/preloading-images-jquery-and-javascript</a></li>
<li><a href="http://elouai.com/javascript-preload-images.php">http://elouai.com/javascript-preload-images.php</a></li>
<li><a href="http://www.javascriptkit.com/script/script2/preloadimage.shtml">http://www.javascriptkit.com/script/script2/preloadimage.shtml</a></li>
<li><a href="http://stackoverflow.com/questions/761263/what-is-the-best-way-to-preload-multiple-images-in-javascript/761332">http://stackoverflow.com/questions/761263/what-is-the-best-way-to-preload-multiple-images-in-javascript/761332</a></li>
<li><a href="http://www.filamentgroup.com/lab/update_automatically_preload_images_from_css_with_jquery/">http://www.filamentgroup.com/lab/update_automatically_preload_images_from_css_with_jquery/</a></li>
<li><a href="http://snipplr.com/view.php?codeview&amp;id=9612">http://snipplr.com/view.php?codeview&amp;id=9612</a></li>
</ul>
</p>

<p>[<img alt="" src="http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery-300x195.gif" title="resim_on_yukleme_jquery" />]: http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery.gif
  [<img alt="" src="http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery2-300x194.gif" title="resim_on_yukleme_jquery2" />]: http://www.fatihhayrioglu.com/wp-content/resim_on_yukleme_jquery2.gif</p>
    </div><!-- /.entry-content -->
    
    <div class="comments">
      <h2>Yorumlar !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_url = "http://www.fatihhayrioglu.com/onden-resimleripreloading-images-yukleme-yontemleri/";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://fatihhayri.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>
    

  </article>
</section>

        <section id="extras" class="body">
        
        
                <div class="social">
                        <h2>Sosyal</h2>
                        <ul>
                            <li><a href="http://feeds.feedburner.com/fatihhayri" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            

                        
                            <li><a href="http://twitter.com/fatihhayri">@fatihhayri</a></li>
                        
                        </ul>
                </div><!-- /.social -->
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                <a href="http://getpelican.com/">Pelican</a> alt yapısı ve <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> teması kullanılmıştır.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-785768-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



<script type="text/javascript">
    var disqus_shortname = 'fatihhayri';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>